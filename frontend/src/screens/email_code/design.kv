<EmailCode>:
    Header:

    AnchorLayout:
        anchor_x: "center"
        anchor_y: "center"

        MDBoxLayout:
            orientation: "vertical"
            padding: ('5dp', '40dp', '5dp', '5dp')
            spacing: dp(20)
            size_hint: None, None
            width: dp(400)
            height: dp(700)

            MDLabel:
                text: "[b]Enter the code![/b]"
                halign: "center"
                theme_text_color: "Primary"
                markup: True
                font_style: "Display"
                role: "medium"

            MDBoxLayout:
                orientation: "vertical"
                spacing: dp(20)
                size_hint_x: None
                width: dp(400)

                MDLabel:
                    id: email_label
                    text: "We sent a code to your email"
                    halign: "left"
                    bold: True
                    theme_text_color: "Primary"
                    font_style: "Headline"
                    role: "medium"
                    size_hint_y: None

                MDLabel:
                    text: "Enter the code to proceed!"
                    halign: "left"
                    padding: dp(4)
                    markup: True
                    font_style: "Body"
                    role: "medium"
                    size_hint_y: None
                    height: dp(20)

                MDTextField:
                    id: code_input
                    mode: "outlined"
                    MDTextFieldHintText:
                        text: "Enter the verification code"
                    MDTextFieldMaxLengthText:
                        max_text_length: 6

            MDBoxLayout:
                orientation: 'horizontal'
                spacing: dp(20)
                size_hint_y: None
                height: dp(40)

                MDButton:
                    style: "elevated"
                    size_hint_x: 1
                    radius: 8
                    on_press: root.proceed()
                    MDButtonIcon:
                        icon: "check"
                    MDButtonText:
                        id: verify_button
                        text: "Verify"
                MDButton:
                    style: "elevated"
                    size_hint_x: 1
                    radius: 8
                    on_press: root.on_send_again()
                    MDButtonIcon:
                        icon: "repeat"
                    MDButtonText:
                        id: send_again_button
                        text: "Send Again"

            MDLabel:
                text: "Already have an account? [ref=login][u][b]Log in[/b][/u][/ref]"
                markup: True
                halign: "center"
                theme_text_color: "Primary"
                on_ref_press: app.root.ids.screen_manager.current = "login"
