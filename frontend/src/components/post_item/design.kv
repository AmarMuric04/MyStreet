<PostItem>:
    post_id: ""
    like_count: 0
    comment_count: 0
    username: ""
    title: ""
    text: ""
    user_email: ""
    is_logged_in: ""
    liked_by_user: False  
    orientation: "vertical"
    created_by_current_user: False
    anonymous: False
    size_hint_y: None
    height: self.minimum_height
    spacing: dp(10)
    image_url: ''

    MDBoxLayout:
        orientation: 'vertical'
        spacing: dp(20)
        size_hint_y: None
        height: self.minimum_height  

        MDBoxLayout:
            orientation: 'horizontal'
            spacing: dp(5)
            size_hint_y: None
            height: self.minimum_height  

            MDFloatLayout:
                size_hint: None, None
                size: dp(40), dp(40)
                md_bg_color: 1, 1, 1, 1
                radius: self.height / 2
                MDIcon:
                    icon: "account"
                    pos_hint: {'center_x': 0.5,'center_y': 0.5}

            MDBoxLayout:
                orientation: 'horizontal'
                size_hint_y: None
                height: self.minimum_height  

                MDBoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    MDBoxLayout:
                        orientation: 'vertical'
                        valign: "middle"
                        MDLabel:
                            text: "[b]{}[/b]".format(root.username)
                            # text: "[b]{}[/b][i][color=aaaaaa]{}[/color][/i]".format(root.username, root.user_email)
                            markup: True
                            size_hint_y: None
                            height: dp(20)
                            theme_text_color: "Custom"
                            text_color: 1, 1, 1, 1
                        
                        MDLabel:
                            id: title
                            text: root.title if root.title else "No Title"
                            bold: True
                            padding: dp(4)
                            size_hint_y: None
                            height: self.texture_size[1]
                            text_size: self.width, None
                            font_style: "Body"
                            role: "large"
                            theme_text_color: "Custom"
                            text_color: 1, 1, 1, 1
                MDBoxLayout:
                    orientation: 'vertical'
                    size_hint: None, None
                    width: dp(32)
                    height: dp(50)

                    MDIconButton:
                        id: menu_button
                        icon: "dots-vertical"
                        on_release: root.open_menu(self, root)

                    Widget:
        MDBoxLayout:
            orientation: 'horizontal'
            spacing: dp(10)
            size_hint_y: None
            height: self.minimum_height  

            MDBoxLayout:
                size: dp(40), dp(40)
                size_hint: None, None
            MDBoxLayout:
                orientation: "vertical"
                spacing: dp(5)
                size_hint_y: None
                height: self.minimum_height  

                MDLabel:
                    text: root.text if root.text else "No Content"
                    size_hint_y: None
                    height: self.texture_size[1]
                    text_size: self.width, None
                    font_style: "Body"
                    role: "large"
                    theme_text_color: "Custom"
                    text_color: (200/255.0, 200/255.0, 200/255.0, 1)
                AsyncImage:
                    size_hint: None, None
                    size: (dp(200), dp(150)) if root.image_url else (0, 0)
                    opacity: 1 if root.image_url else 0
                    source: root.image_url if root.image_url else ""

                MDBoxLayout:
                    orientation: "horizontal"
                    size_hint_y: None
                    height: dp(40)
                    spacing: dp(8)

                    MDBoxLayout:
                        orientation: 'horizontal'
                        MDIconButton:
                            icon: "thumb-up" if root.liked_by_user else "thumb-up-outline"
                            icon_size: "14sp"
                            pos_hint: {"center_y": 0.5}
                            on_release: root.toggle_like(root)

                        MDLabel:
                            text: str(root.like_count)
                            size_hint: None, None
                            size: dp(20), dp(40)
                            halign: "center"
                            valign: "middle"
                            pos_hint: {"center_y": 0.5}
                            theme_text_color: "Custom"
                            text_color: 1, 1, 1, 1

                    MDBoxLayout:
                        orientation: 'horizontal'
                        MDIconButton:
                            icon: "comment-outline"
                            icon_size: "14sp"
                            pos_hint: {"center_y": 0.5}
                            on_release: root.view_comments(root.post_id)

                        MDLabel:
                            text: str(root.comment_count)
                            size_hint: None, None
                            size: dp(20), dp(40)
                            halign: "center"
                            valign: "middle"
                            pos_hint: {"center_y": 0.5}
                            theme_text_color: "Custom"
                            text_color: 1, 1, 1, 1

                    MDBoxLayout:
                        orientation: 'horizontal'
                        MDIconButton:
                            icon: "bookmark" if root.liked_by_user else "bookmark-outline"
                            icon_size: "14sp"
                            pos_hint: {"center_y": 0.5}
                            on_release: root.toggle_like(root)

                        MDLabel:
                            text: str(root.like_count)
                            size_hint: None, None
                            size: dp(20), dp(40)
                            halign: "center"
                            valign: "middle"
                            pos_hint: {"center_y": 0.5}
                            theme_text_color: "Custom"
                            text_color: 1, 1, 1, 1

                    MDBoxLayout:
                        orientation: 'horizontal'
                        MDIconButton:
                            icon: "repeat"
                            icon_size: "14sp"
                            pos_hint: {"center_y": 0.5}
                            on_release: root.toggle_like(root)

                        MDLabel:
                            text: str(root.like_count)
                            size_hint: None, None
                            size: dp(20), dp(40)
                            halign: "center"
                            valign: "middle"
                            pos_hint: {"center_y": 0.5}
                            theme_text_color: "Custom"
                            text_color: 1, 1, 1, 1
