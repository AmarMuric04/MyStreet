#:import dp kivy.metrics.dp

<HomeScreen>:
    FloatLayout:
        MDBoxLayout:
            pos_hint: {"top": 1}
            size_hint_y: None
            height: dp(50)
            padding: ('20dp', '0dp', '20dp', '0dp')
            MDLabel:
                text: "MyStreet"
                bold: True
                size_hint_y: None
                height: dp(50)
            
            MDIconButton:
                icon: "hamburger"
                on_release: app.root.ids.nav_drawer.set_state("toggle")
                size_hint: None, None
                size: dp(50), dp(50)

    AnchorLayout:
        anchor_x: "center"
        anchor_y: "center"
        MDBoxLayout:
            orientation: 'vertical'
            padding: ('5dp', '0dp', '5dp', '5dp')
            size_hint: None, None
            height: dp(700)
            width: dp(400)

            MDBoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: dp(225)
                spacing: dp(25)
                MDTextField:
                    id: search_for_groups
                    size_hint_x: 1
                    mode: "outlined"
                    MDTextFieldHintText:
                        text: "Search for a group"
                    MDTextFieldMaxLengthText:
                        max_text_length: 64
                    
                ScrollView:
                    scroll_type: ['content']
                    bar_width: dp(0)
                    do_scroll_x: True
                    do_scroll_y: False
                    size_hint_y: None
                    height: dp(120) 

                    RecycleView:
                        id: groups_rv
                        viewclass: "GroupItem"
                        bar_width: dp(0)
                        do_scroll_x: True
                        do_scroll_y: False
                        data: root.groups_data

                        RecycleBoxLayout:
                            orientation: 'horizontal'
                            spacing: dp(12) 
                            default_size: None, dp(65)
                            default_size_hint: None, None
                            size_hint_y: None
                            height: dp(65)
                            size_hint_x: None
                            width: self.minimum_width 

            Widget:
        
        FloatLayout:
            MDButton:
                id: create_group_btn
                style: "elevated"
                pos_hint: {"right": 0.95, "y": 0.025}
                on_press:
                    app.root.ids.screen_manager.current = "create_group"
                    root.manager.transition.direction = "left"
                MDButtonIcon:
                    icon: "plus"
                MDButtonText:
                    text: "Create a Group"


<GroupItem@BoxLayout>:
    group_name: ""
    description: ""
    creator: ""
    group_id: ""
    allow_preview: True
    is_logged_in: None
    orientation: "horizontal"
    size_hint: None, None
    height: dp(65)
    width: dp(60)
    padding: dp(8)
    spacing: dp(8)

    MDFloatLayout:
        size_hint_x: None
        width: dp(60)
        MDIconButton:
            icon: "account-group"
            style: "filled"
            size_hint: None, None
            size: dp(50), dp(50)
            pos_hint: {'center_x': 0.5,'top': 1}
        MDLabel:
            text: root.group_name
            halign: "center"
            pos_hint: {'center_x': 0.5,'top': 0}
            shorten: True
            shorten_from: 'right'
            max_lines: 3

    
   